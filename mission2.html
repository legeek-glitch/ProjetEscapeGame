<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="utf-8">
    <meta name="author" content="Demet LE GAL">
    <meta name="co-founder" content="Louis BRYNIDSVOL-GIARD">
    <link rel="icon" type="image/x-icon" href="images/icon.png">

    <title>Escape from Russia : Mission 2</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h1 id="titre"></h1>
    <h2 id="h2"></h2>
    <h2 id="h22"></h2>
    <h2 id="h222"></h2>
    <h2 id="h2222"></h2>
    <button id="button1">Boutton1</button>
    <button id="button2">Boutton2</button>
    <button id="button3">Boutton3</button>
    <script>
        var perdu = 0;
        var niveau2 = 0;
        var niveau3 = 0;
        
        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        async function newText(textContent, id) {
            var text = document.getElementById(id);
            for (let i = 0; i < textContent.length; i++) {
                await sleep(25);
                text.innerHTML += textContent[i];
            }
        }

        newText("Trouves les bons carrés", "titre");
        async function Start(button) {
            button.style.background = "rgb(100,100,100)";
            await sleep(500);
            button.style.background = "white";
        }
        async function Main() {
            await sleep(1000);
            Start(document.getElementById("button1"));
            await sleep(500);
            Start(document.getElementById("button3"));
            await sleep(500);
            Start(document.getElementById("button2"));
            await sleep(500);
        }
        async function bouttonckick(id) {
            id.style.background = "rgb(255,0,255)"
            await sleep(100);
            id.style.background = "white"

        }
        async function Main2() {
            await sleep(1000);
            Start(document.getElementById("button3"));
            await sleep(500);
            Start(document.getElementById("button5"));
            await sleep(500);
            Start(document.getElementById("button1"));
            await sleep(500);
            Start(document.getElementById("button4"));
            await sleep(500);
            Start(document.getElementById("button2"));
            await sleep(500);
        }
        async function Main3() {
            await sleep(1000);
            Start(document.getElementById("button3"));
            await sleep(500);
            Start(document.getElementById("button5"));
            await sleep(500);
            Start(document.getElementById("button4"));
            await sleep(500);
            Start(document.getElementById("button2"));
            await sleep(500);
            Start(document.getElementById("button7"));
            await sleep(500);
            Start(document.getElementById("button6"));
            await sleep(500);
            Start(document.getElementById("button1"));
            await sleep(500);
        }
        Main();
        var list = [0, 0, 0];
        var compteur = 0;
        var h = 0;
        button1.onclick = function () {
            bouttonckick(button1)
            list[compteur] = 1;
            compteur = compteur + 1;
            console.log(compteur)
            console.log(list)
            if (compteur == 3) {
                alert("perdu")
            }

        }
        button3.onclick = function () {
            bouttonckick(button3)
            list[compteur] = 3;
            compteur = compteur + 1;
            console.log(compteur)
            console.log(list)
            if (compteur == 3) {
                alert("perdu")
            }
        }
        button2.onclick = function () {
            bouttonckick(button2)
            list[compteur] = 2;
            compteur = compteur + 1;
            console.log(compteur)
            console.log(list)
            var listf = [1, 3, 2];
            var slistfa = 0;
            var slistfb = 0;
            var sature1 = 0;
            var cp1 = 0;
            var bo1 = 0;
            if (compteur == 3) {

                while (sature1 != 3) {
                    slistfa = list[sature1]
                    slistfb = listf[sature1]
                    if (slistfa == slistfb) {
                        cp1 = cp1 + 1


                    }
                    else {
                        cp1 = cp1 + 1000
                        alert("perdu")
                        break
                    }
                    sature1 = sature1 + 1

                }
                if (cp1 == 3) {
                    alert("bien joué vous avez réussi l'étape 1");
                    var s = document.createElement('button');
                    s.id = 'suite';
                    var texte = document.createTextNode('suite');
                    s.appendChild(texte);
                    document.body.appendChild(s);
                    suite.onclick = function () {
                        s.id = 'button4';
                        var texte = document.createTextNode('boutton4');
                        s.appendChild(texte);
                        document.body.appendChild(s);
                        var button5 = document.createElement('button');
                        button5.id = 'button5';
                        var texte = document.createTextNode('button5');
                        button5.appendChild(texte);
                        document.body.appendChild(button5);
                        Main2();
                        var list2 = [0, 0, 0, 0, 0];
                        var compteur2 = 0;
                        button1.onclick = function () {
                            bouttonckick(button1)
                            list2[compteur2] = 1;
                            compteur2++
                            console.log(list2)
                            if (compteur2 == 5) {
                                alert("perdu")
                            }
                        }
                        button3.onclick = function () {
                            bouttonckick(button3)
                            list2[compteur2] = 3;
                            compteur2++
                            console.log(list2)
                            if (compteur2 == 5) {
                                alert("perdu")
                            }
                        }
                        button4.onclick = function () {
                            bouttonckick(button4)
                            list2[compteur2] = 4;
                            compteur2++
                            console.log(list2)
                            if (compteur2 == 5) {
                                alert("perdu")
                            }

                        }
                        button5.onclick = function () {
                            bouttonckick(button5)
                            list2[compteur2] = 5;
                            compteur2++
                            console.log(list2)
                            if (compteur2 == 5) {
                                alert("perdu")
                            }
                        }
                        button2.onclick = function () {
                            bouttonckick(button2)
                            list2[compteur2] = 2;
                            compteur2++
                            console.log(list2)
                            if (compteur2 == 5) {
                                console.log(listf2)
                                var listf2 = [3, 5, 1, 4, 2];
                                var slistfa2 = 0;
                                var slistfb2 = 0;
                                var sature2 = 0;
                                var cp2 = 0;
                                var bo2 = 0;
                                while (sature2 != 5) {
                                    slistfa2 = list2[sature2]
                                    slistfb2 = listf2[sature2]
                                    if (slistfa2 == slistfb2) {
                                        cp2 = cp2 + 1


                                    }
                                    else {
                                        cp2 = cp2 + 1000
                                        alert("perdu")
                                        break
                                    }
                                    sature2 = sature2 + 1
                                    console.log(cp2)

                                }
                                if (cp2 == 5) {
                                    alert('gagner')
                                    var valider = document.createElement('button');
                                    valider.id = 'valider';
                                    var texte = document.createTextNode('valider');
                                    valider.appendChild(texte);
                                    document.body.appendChild(valider);
                                    valider.onclick = function () {



                                        alert('bien joué vous avez réussi l etape 2')
                                        niveau3 = 1;
                                        newText("Ceci est le niveau ultime bonne chance", "h22")
                                        valider.id = 'button6';
                                        var texte = document.createTextNode('boutton6');
                                        valider.appendChild(texte);
                                        document.body.appendChild(valider);

                                        var button7 = document.createElement('button');
                                        button7.id = 'button7';
                                        var texte = document.createTextNode('button7');
                                        button7.appendChild(texte);
                                        document.body.appendChild(button7);
                                        Main3();
                                        var compteur3 = 0;
                                        var list3 = [0, 0, 0, 0, 0, 0, 0];

                                        button2.onclick = function () {
                                            list3[compteur3] = 2;
                                            compteur3++
                                            bouttonckick(button2)
                                        }
                                        button3.onclick = function () {
                                            list3[compteur3] = 3;
                                            compteur3++
                                            bouttonckick(button3)
                                        }
                                        button4.onclick = function () {
                                            list3[compteur3] = 4;
                                            compteur3++
                                            bouttonckick(button4)
                                        }
                                        button5.onclick = function () {
                                            list3[compteur3] = 5;
                                            compteur3++
                                            bouttonckick(button5)
                                        }
                                        button6.onclick = function () {
                                            list3[compteur3] = 6;
                                            compteur3++
                                            bouttonckick(button6)
                                        }
                                        button7.onclick = function () {
                                            bouttonckick(button7)
                                            list3[compteur3] = 7;
                                            compteur3++
                                        }
                                        button1.onclick = function () {
                                            bouttonckick(button1)
                                            list3[compteur3] = 1;
                                            compteur3++
                                            if (compteur3 == 7) {
                                                var listf3 = [3, 5, 4, 2, 7, 6, 1];
                                                var slistfa3 = 0;
                                                var slistfb3 = 0;
                                                var sature3 = 0;
                                                var cp3 = 0;
                                                var bo3 = 0;
                                                while (sature3 != 7) {
                                                    slistfa3 = list3[sature3]
                                                    slistfb3 = listf3[sature3]
                                                    if (slistfa3 == slistfb3) {
                                                        cp3 = cp3 + 1


                                                    }
                                                    else {
                                                        cp3 = cp3 + 1000
                                                        alert("perdu")
                                                        break
                                                    }
                                                    sature3 = sature3 + 1

                                                }
                                                if (cp3 == 7) {
                                                    alert("bravo vous avez définitivement gagner le chiffre code de la deuxiéme combinaison est de 2 alors retener le")
                                                    var mission3 = document.createElement('button');
                                                    mission.id = 'mission3';
                                                    mission.onclick = () => document.location = "mission3.html";
                                                }
                                                else {
                                                    alert("vous avez perdu à la derniére étape dommage perdu")
                                                }
                                            }}}}}}}}}}
    </script>
</body>

</html>